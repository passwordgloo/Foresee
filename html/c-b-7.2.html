<!DOCTYPE HTML>
<html lang="zh-CN">

<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>C语言</title>
	<link rel="shortcut icon" href="../img/main/logo.ico">
	<link rel="stylesheet" href="../css/prism.css">
	<link rel="stylesheet" href="../css/language.css">
	<link rel="stylesheet" href="../css/main.css">
	<script src="../js/jquery-3.6.0.js"></script>
	<script src="../js/prism.js"></script>
	<script src="../js/toc-helper.js"></script>
	<canvas class="fireworks"></canvas>
	<script type="text/javascript" src="../js/fireworks.js"></script>
</head>

<body>
	<header>
		<nav style="text-align:right">
			<img id="logo" src="../img/main/logo.svg" alt="预见" title="预见"
				onclick="window.open('../html/index.html','_self')">
			<li class="nav__item"><a class="link" id="link_1" href="../html/index.html" title="网站首页">网站首页</a></li>
			<li class="nav__item"> <a class="link" href="../html/education.html" title="教育学">教育学</a>
				<ul class="subnav">
					<li class="subnav__item"> <a class="sublink" href="../html/list-education.html"
							title="教育学原理">教育学原理</a>
					</li>
					<li class="subnav__item"> <a class="sublink" href="../html/list-china.html" title="中国教育史">中国教育史</a>
					</li>
					<li class="subnav__item"> <a class="sublink" href="../html/list-foreign.html"
							title="外国教育史">外国教育史</a>
					</li>
					<li class="subnav__item"> <a class="sublink" title="教育心理学"
							href="../html/list-edu_psychology.html">教育心理学</a> </li>
					<li class="subnav__item"> <a class="sublink" href="../html/list-psychology.html"
							title="儿童心理学">儿童心理学</a>
					</li>
				</ul>
			</li>
			<li class="nav__item cur"> <a class="link" id="link_2" href="../html/language.html" title="编程语言">编程语言</a>
				<ul class="subnav" id="subnav_1">
					<li class="subnav__item"> <a class="sublink" title="C语言" href="../html/list-c.html">C语言</a> </li>
					<li class="subnav__item"> <a class="sublink" href="../html/list-java.html" title="Java语言">Java语言</a>
					</li>
				</ul>
			</li>
			<li class="nav__item"><a class="link" id="link_3" href="../html/computer.html" rel="nofollow"
					title="计算机">计算机</a>
				<ul class="subnav" id="subnav_2">
					<li class="subnav__item"> <a class="sublink" href="../html/list-composition.html"
							title="计算机组成原理">组成原理</a>
					<li class="subnav__item"> <a class="sublink" href="../html/list-network.html"
							title="计算机网络">计算机网络</a>
					<li class="subnav__item"><a class="sublink" href="../html/list-structure.html" title="数据结构">数据结构</a>
					<li class="subnav__item"><a class="sublink" href="../html/list-system.html" title="操作系统">操作系统</a>
				</ul>
			</li>
			<li class="nav__item"><a class="link" id="link_4" href="../html/course.html" title="学科课程">学科课程</a>
				<ul class="subnav" id="subnav_3">
					<li class="subnav__item"><a class="sublink" href="../html/list-discrete.html" title="离散数学">离散数学</a>
					<li class="subnav__item"><a class="sublink" href="../html/list-advance.html" title="高等数学">高等数学</a>
					<li class="subnav__item"><a class="sublink" href="../html/list-politics.html" title="考研政治">考研政治</a>
					<li class="subnav__item"><a class="sublink" href="../html/progress.html" title="学习进程">学习进程</a>
				</ul>
			</li>
			<li class="nav__item"><a class="link" id="link_5" href="../html/software.html" title="软件应用">软件应用</a>
				<ul class="subnav" id="subnav_4">
					<li class="subnav__item"><a class="sublink" href="../html/list-excel.html" title="电子表格">电子表格</a>
				</ul>
			</li>
			<input class="textbox" id="searchstr" type="text" size="10" name="searchstr" title="输入关键字查找当前页面">
		</nav>
	</header>
	<section>
		<div id="toc">
		</div>
	</section>
	<article data-toc="#toc">
		<hgroup>
			<h1>第七章 函数(2)</h1>
		</hgroup>
		<h2>57.extern用法(1)</h2>
		<pre class="line-numbers" data-prismjs-copy='复制' data-prismjs-copy-error='按Ctrl+C复制'
			data-prismjs-copy-success='成功复制！'>
<code class="lang-c match-braces rainbow-braces">#include &lt;stdio.h&gt;
extern int A;         //extern可以在文件内扩展一个全局变量的作用域，extern只能修饰全局变量
int main(void)
{
	printf("%d\n",A);
	return 0;
}
int A =10;</code></pre>
		<h2>58.extern用法(2)</h2>
		<pre class="line-numbers" data-prismjs-copy='复制' data-prismjs-copy-error='按Ctrl+C复制'
			data-prismjs-copy-success='成功复制！'>
<code class="lang-c match-braces rainbow-braces">#include &lt;stdio.h&gt;
extern int A;          //extern可以将全局变量的作用域扩展到其他文件①在不同的文件中不可以有重名的非静态的全局变量②编译时遇到extern先在本文件中搜寻
extern int B;
extern int *p;
int main(void)
{
	printf("%d\n",A);
//	pritnf("%d\n",B); error因为B是静态外部变量，不可以在其他文件中通过变量名来引用它
	printf("%d\n",*p);   //可以通过指针间接的引用其他文件中的静态全局变量
	return 0;
}
//static int A = 14;</code></pre>
		<h2>59.static局部变量</h2>
		<pre class="line-numbers" data-prismjs-copy='复制' data-prismjs-copy-error='按Ctrl+C复制'
			data-prismjs-copy-success='成功复制！'>
<code class="lang-c match-braces rainbow-braces">//静态局部变量是在编译的时候初始化，即只复制一次，不会随函数调用结束后其存储单元自行消失
//自动变量是在函数调用时赋初值的，调用一次，赋一次，调用结束后其存储单元就消失
#include &lt;stdio.h&gt;
int *p;
void f(void)
{
	int i =10;
	static int j;            //如果定义静态局部变量的时候没有初始化，它将有一个默认值0
	printf("%d,%d\n",i++,j++);
	p=&j;
}

int main(void)
{
//	printf("%d\n",j);  error因为j的作用域不在此
	f();
	f();
	f();
	printf("%d\n",*p);  //可以通过指针引用在其他函数定义的静态局部变量
	return 0;
}</code></pre>
		<h2>60.1内部函数和外部函数</h2>
		<pre class="line-numbers" data-prismjs-copy='复制' data-prismjs-copy-error='按Ctrl+C复制'
			data-prismjs-copy-success='成功复制！'>
<code class="lang-c match-braces rainbow-braces">//①在不同的文件中不可以有重名的外部函数定义②函数声明 先从本文件中寻找函数定义，找不到，再从其他文件中寻找外部函数的定义
#include &lt;stdio.h&gt;   //因为f函数需要用到printf语句
extern void f(void);
void g(void);
extern void (*p)(void);
int main(void)
{
	f();
//	g();  error 如果想正常运行该语句，g函数要么定义在本文中，那么是定义在其他文件的外部函数，我们不能企图调用一个来自其他文件中定义的内容
	(*p)();  //可以通过函数的指针间接调用其它文件中定义的内部函数
	return 0;
}
static void f(void)
{
	printf("1111\n");
}</code></pre>
		<h2>60.2变量的存储方式和生存期</h2>
		<blockquote>
			<dd class='dotpink'>
				变量的存在时间即生存期，在程序运行整个过程中都存在的变量是在内存大静态存储区存放的；有的变量则是在调用其所在的函数时才临时分配存储单元，调用结束后该存储单元被释放，这种变量是存放在内存的动态存储区的。
			</dd>
			<dd class='dotpink'>每一个变量和函数都有数据类型和数据的存储类型</dd>
		</blockquote>
		<table id="table-3">
			<caption>变量与函数的数据结构和存储类型</caption>
			<thead>
				<th>关键词</th>
				<th>可修饰变量类型</th>
				<th>内存的存储位置</th>
			</thead>
			<tbody>
				<tr>
					<td>auto(可省)</td>
					<td>局部变量</td>
					<td>动态存储区</td>
				</tr>
				<tr>
					<td>register(好的编译器可自动优化。所以基本不用)</td>
					<td>局部变量</td>
					<td>动态存储区</td>
				</tr>
				<tr>
					<td>extern(可省略数据类型名)</td>
					<td>全局变量</td>
					<td>静态存储区</td>
				</tr>
				<tr>
					<td>static</td>
					<td>局部变量，全局变量</td>
					<td>静态存储区</td>
				</tr>
			</tbody>
		</table>
		<p><img src="https://gitee.com/passwordgloo/drawing-bed/raw/master/foresee/main/warning.png"
				alt="">建立存储空间的声明是定义声明(如 int a;)，不需要建立存储空间的声明是引用声明</p>
		<h2>61.undef,extern小知识点</h2>
		<pre class="line-numbers" data-prismjs-copy='复制' data-prismjs-copy-error='按Ctrl+C复制'
			data-prismjs-copy-success='成功复制！'>
<code class="lang-c match-braces rainbow-braces">#include &lt;stdio.h&gt;
#undef AB
#undef AB        //可以终止同一个宏名的作用域，即使这个宏名没有被定义
extern int a;
extern int a;    //可以多次扩展同一个全局变量的作用域，即使这个变量没有被定义
void f(void);
void f(void);    //可以多次扩展同一个函数的作用域，即使这个函数没有被定义
int main(void)
{
	return 0;
}</code></pre>
		<h2>62.递归——求5的阶乘</h2>
		<pre class="line-numbers" data-prismjs-copy='复制' data-prismjs-copy-error='按Ctrl+C复制'
			data-prismjs-copy-success='成功复制！'>
<code class="lang-c match-braces rainbow-braces">#include &lt;stdio.h&gt;
int f(int a)
{
	if(a ==1 || a ==0)
		return 1;
	else if(a>1)
		return a*f(a-1);
	else
		return -1;
}
int main(void)
{
	printf("%d\n",f(5));
	return 0;
}</code></pre>
		<h2>63.递归求汉诺塔</h2>
		<pre class="line-numbers" data-prismjs-copy='复制' data-prismjs-copy-error='按Ctrl+C复制'
			data-prismjs-copy-success='成功复制！'>
<code class="lang-c match-braces rainbow-braces">#include &lt;stdio.h&gt;
void f(char a,char b)
{
	printf("从%c柱子上往%c柱子上挪动一个圆盘\n",a,b);
}
void g(int i,char a,char b,char c)
{
	if(i == 2)
	{
		f(a,b);
		f(a,c);
		f(b,c);
	}
	else if(i>2)
	{
		g(i-1,a,c,b);
		f(a,c);
		g(i-1,b,a,c);
	}
}
int main(void)
{	
	g(3,'A','B','C');
	return 0;
}</code></pre>
		</div>
		<div id="button_group">
			<button class="custom-btn btn-3" onclick="window.open('../html/c-b-7.1.html','_self')">
				<span>上一页</span>
			</button>
			<button class="custom-btn btn-3" onclick="window.open('../html/list-c.html','_self')">
				<span>目录</span>
			</button>
			<button class="custom-btn btn-3" onclick="window.open('../html/c-b-8.1.html','_self')">
				<span>下一页</span>
			</button>
		</div>
	</article>
	<footer>
		<a href="../html/index.html" title="网站首页">网站首页</a>|
		<a href="../html/education.html" title="教育学">教育学</a>|
		<a href="../html/language.html" title="编程语言">编程语言</a>|
		<a href="../html/computer.html" title="计算机">计算机</a>|
		<a href="../html/course.html" title="学科课程">学科课程</a>|
		<a href="../html/software.html" title="软件应用">软件应用</a>
		<h5>Copyright &copy; 2022 Passwordgloo All rights reserved.</h5>
	</footer>
	<script>
		const tocHelper = new TocHelper({
			dom: 'article[data-toc]',
			offsetBody: document.querySelector('#scroll'),
		})
		tocHelper.reset()
	</script>
</body>

</html>